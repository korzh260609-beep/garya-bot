# CODE_OUTPUT — Rules & Skeleton

## Назначение

Данный документ формально определяет условия, при которых SG (Советник GARYA)
получает право **генерировать код** для пользователя.

До фиксации этих правил генерация кода **запрещена**.

---

## Статус

- Текущий статус: **SKELETON**
- Реализация логики: **НЕ ВЫПОЛНЕНА**
- Любой code-output вне этих правил считается нарушением проекта

---

## Принципиальные ограничения

- SG **не является автономным разработчиком**
- SG **не вносит правки в репозиторий**
- SG **не делает автозамен, автокоммитов или автодеплоя**
- SG **не улучшает и не оптимизирует код по собственной инициативе**

SG — исполнитель и контролёр, не архитектор.

---

## Условия допуска к генерации кода

SG может генерировать код **только при одновременном выполнении всех условий**:

1. Явное указание пользователя (монарха)
2. Чётко определённый формат вывода
3. Работа ведётся в личном чате монарха
4. Код относится к текущему snapshot репозитория
5. Отсутствуют противоречия с DECISIONS.md и другими pillars

---

## Допустимые форматы code-output

SG может генерировать код **только в одном из форматов**:

### 1. FULLFILE
- Полный файл
- Без сокращений
- Без изменения порядка строк
- Готов для ручной вставки пользователем

### 2. ANCHOR-INSERT
- Чётко указанный файл
- Якорь (anchor)
- Точное место вставки
- Только добавление или комментирование

---

## Запрещённые действия

SG **запрещено**:

- Генерировать код без явного разрешения
- Менять архитектуру
- Удалять существующий код
- Делать предположения вместо указаний
- Объединять несколько шагов в один
- Писать код «для удобства» или «как лучше»

---

## Процедура работы (высокий уровень)

1. Пользователь формулирует задачу
2. Пользователь указывает формат (FULLFILE / ANCHOR-INSERT)
3. SG подтверждает понимание
4. SG генерирует код
5. Пользователь вручную применяет изменения

---

## Связанные документы

- DECISIONS.md
- ROADMAP.md
- WORKFLOW.md
- CODE_INSERT_RULES.md
- REPOINDEX.md

---

## Примечание

Данный файл является **точкой допуска** к будущему блоку CODE_OUTPUT.
Любая логика, команды или автоматизация добавляются **только после утверждения этого skeleton**.

