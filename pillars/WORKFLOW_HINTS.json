{
  "version": 2,
  "domain": "repo_indexing",
  "source_of_truth": "WORKFLOW.md Stage 12A.0 (REPOSITORY INDEXING)",
  "purpose": "Step -> evidence hints for SGâ†”GitHub RepoIndex foundation. READ-ONLY proofs, no status logic here.",
  "rules": {
    "no_autologic": true,
    "no_ai_required": true,
    "evidence_types": ["paths", "search", "notes"],
    "policy": "Hints only. Status (done/todo/needs_review) is computed in /workflow_check logic."
  },
  "steps": {
    "12A.0.1": {
      "title": "GitHub access (fine-grained, read-only)",
      "paths": ["src/repo/RepoSource.js", "src/bot/handlers/repoStatus.js"],
      "search": ["GITHUB_TOKEN", "RepoSource", "/repo_status", "read-only"],
      "notes": "Proof should show read-only access and absence of write/commit actions."
    },
    "12A.0.2": {
      "title": "RepoSource (list + fetch files)",
      "paths": ["src/repo/RepoSource.js", "src/bot/handlers/repoTree.js", "src/bot/handlers/repoGet.js"],
      "search": ["RepoSource", "/repo_tree", "/repo_get"],
      "notes": "Proof: RepoSource exists and handlers use it (directly or via services)."
    },
    "12A.0.3": {
      "title": "RepoIndexService (orchestration)",
      "paths": ["src/repo/RepoIndexService.js", "src/bot/handlers/reindexRepo.js"],
      "search": ["RepoIndexService", "runIndex", "/reindex"],
      "notes": "Proof: /reindex triggers indexing orchestration."
    },
    "12A.0.4": {
      "title": "textFilters (deny secrets / noise)",
      "paths": ["src/repo/textFilters.js"],
      "search": ["textFilters", "deny", "secrets", "node_modules", ".git"],
      "notes": "Proof: excludes noisy dirs and blocks secrets patterns."
    },
    "12A.0.5": {
      "title": "RepoIndexSnapshot (normalized snapshot)",
      "paths": ["src/repo/RepoIndexSnapshot.js", "src/repo/RepoIndexStore.js"],
      "search": ["RepoIndexSnapshot", "saveSnapshot", "getLatestSnapshot", "repo_index_snapshots"],
      "notes": "Proof: snapshot model + store exist, snapshot_id increments."
    },
    "12A.0.6": {
      "title": "Pillars indexing (pillars/*.md)",
      "paths": ["pillars/WORKFLOW.md", "pillars/DECISIONS.md"],
      "search": ["pillars/", "WORKFLOW.md", "DECISIONS.md"],
      "notes": "Proof: pillars files are included in snapshot and searchable."
    },
    "12A.0.7": {
      "title": "MemoryPolicy (policy-only, no writes)",
      "paths": ["src/repo/MemoryPolicy.js"],
      "search": ["MemoryPolicy", "no writes", "policy-only"],
      "notes": "Proof: policy exists; no persistence side-effects."
    },
    "12A.0.8": {
      "title": "/reindex dry-run diagnostics",
      "paths": ["src/bot/handlers/reindexRepo.js"],
      "search": ["/reindex", "dry-run", "diagnostics"],
      "notes": "If dry-run mode exists, it must be read-only and non-persistent."
    },
    "12A.0.9": {
      "title": "memoryCandidates preview (NO persistence)",
      "paths": ["src/repo/RepoIndexService.js", "src/repo/MemoryPolicy.js"],
      "search": ["memoryCandidates", "preview", "NO persistence"],
      "notes": "Proof: preview output exists without DB writes to memory tables."
    },
    "12A.0.10": {
      "title": "/code_output_status (skeleton flag; always DISABLED)",
      "paths": ["src/bot/messageRouter.js", "src/bot/handlers/codeOutputStatus.js"],
      "search": ["/code_output_status", "DISABLED", "skeleton"],
      "notes": "Proof: status exists; generation remains disabled."
    }
  }
}
